<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="CSS4SWWEBSITE2.css" type="text/css"> 
    <title>My website</title>
</head>
<body>

    <!--cart-->  
    <div class="cart-bar">
        <ul>
        <li>
            <div class="cart-wrapper" onclick="expandcart()">
                <a class="reservation-button">Cart</a>
                <a href="#" id="total2"> 
            $0.00
            </div></a>
        </li>
        </ul>
        </div>
     <div class="expanded-cart" id="cart-expanded">
        <div class="cart-grid"> 
            <div class="cart-item" id="cart-item1">
               <img src="" class="cart-image" id="cart-image">
               <p class="cart-item-name" id="cart-item-name"></p>
               <p class="cart-item-price" id="item-price"></p>
            </div>
            <h2 id="cart-empty-status">No Items In Cart</h2>
        <div class="total-checkout-container">
        <p class="total" id="total1">Total: 0.00</p><button class="clear-button">Clear</button>
        </div>
     
     
        <form action="http://localhost/BandWebsite/OrderConfirmationPage.php" >
            <button id="checkout-button" class="checkout-button enabled" type="submit">Checkout</button>
        </form>
        </div>
        </div>
       <!--end of cart-->
     
    <div class="top-nav-bar-merchpage">
       <div class="background-image-container"></div>
      
       
        
       <a href="http://localhost/BandWebsite/Homepage.html">   
       <img class="nav-icon-merch-page" src="Images/LOGO STREET WORMS - RESIZED (NAV-ICON).png">
       </a> 

       
       
 
    <div id="main-header" class="Merch-site-header">
            <h1>Welcome to the Merch Store</h1>
        
            <div class="search-box" style="position: relative;">
                <input type="search" class="form-control" id="form" placeholder="Search for product">
                <ul id="recent-searches" class="recent-searches" style="list-style: none; margin: 0;
                padding: 0;
                border-top: none;
                max-height: 70px;
                overflow-y: scroll;
                position: absolute;
                width: 100%;
                background: white;
                display: none;
                top: 100%;  /* Ensure it appears just below the input field */
                left: 0;
                box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); 
                cursor: pointer;
                border: 1px solid black !important;
                border-top-left-radius: 0 !important;
                border-bottom-left-radius: 20px !important;
                border-top-right-radius: 0 !important;
                border-bottom-right-radius: 20px !important;
                box-shadow: none !important;">
                
                </ul>
                <span class="input-group-text"><i class="fa fa-search"></i></span>
            </div>      
    </div> 
    


 
    
    </div>


      <div class="brand-display">
       <h2 class="slide-header">Select a Category</h2>  
       <div class="slide-images-row">
        <button style="border: none; padding: 0; margin: 0; background: none;" class = "slide-button"><p class="slide-image" id="1002">T-Shirts</p></button>
        <button style="border: none; padding: 0; margin: 0; background: none;" class = "slide-button"><p class="slide-image" id="1001">Records</p></button>
        <button style="border: none; padding: 0; margin: 0; background: none;" class = "slide-button"><p class="slide-image" id="1005">Pants</p></button>
        <button style="border: none; padding: 0; margin: 0; background: none;" class = "slide-button"><p class="slide-image" id="1004">Jackets</p></button>
        <button style="border: none; padding: 0; margin: 0; background: none;" class = "slide-button"><p class="slide-image" id="1003">Hoodies</p></button>
        <button style="border: none; padding: 0; margin: 0; background: none;" class = "slide-button"><p class="slide-image" id="1006">Accessories</p></button>
        </div>
        <!--80x40px pics-->
      </div>
    <div class="content">
        <h2 id="carousel-header">Featured Items</h2>  
        <div id="carousel" class="slider"> 
            <div id="slider" class="carousel slide carousel-fade">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img src="http://localhost/BandWebsite/ProductImages/Teeshirt1.jpg" class="carousel-image d-block w-100 "> 
                  </div>
                  <div class="carousel-item">   
                    <img src="http://localhost/BandWebsite/ProductImages/Record1.jpg" class="carousel-image d-block w-100 ">
                  </div>
                  <div class="carousel-item">
                    <img src="http://localhost/BandWebsite/ProductImages/blacktote.jpg" class="carousel-image d-block w-100 "> 
                  </div>
                </div>
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#slider" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1" 
                    onclick="displayPrice1()">
                    </button>
                    <button type="button" data-bs-target="#slider" data-bs-slide-to="1" aria-label="Slide 2" onclick="displayPrice2()"></button>
                    <button type="button" data-bs-target="#slider" data-bs-slide-to="2" aria-label="Slide 3" onclick="displayPrice3()"></button>
                  </div>
              </div>
        </div>
       
        <div id="carousel-descriptions">
            <h3 class="carousel-description" id="Description1-Merch-Page-Home">T-Shirt 1</h3>
            <h3 class="carousel-description" id="Description2-Merch-Page-Home">First Album</h3>
            <h3 class="carousel-description" id="Description3-Merch-Page-Home">Tote Bag</h3>
        </div>
    </div>
   
   
     
     <!--Product Category Section-->
     <h2 id="category-header" class="category-site-header"><br></h2>

        <div class="grid">
            <div class ="grid-item" id="grid-item1">  
                <img src="" class="grid-image" id="grid-image1">
                <p id="item-description1" class="item-description"></p>
                <p id="item-price1" class="item-price"></p>
                <p id="item-availability1"></p>
               
            </div>
            
            <div class ="grid-item" id="grid-item2">  
                <img src="" class="grid-image"  id="grid-image2">
                <p id="item-description2" class="item-description"></p>
                <p id="item-price2" class="item-price"></p>
                <p id="item-availability2"></p>
               
            </div>

            <div class ="grid-item" id="grid-item3">  
                <img src="" class="grid-image" id="grid-image3">
                <p id="item-description3" class="item-description"></p>
                <p id="item-price3" class="item-price"></p>
                <p id="item-availability3"></p>
                
            </div>
        </div>
        <div class="grid">
            <div class ="grid-item" id="grid-item4">  
                <img src="" class="grid-image" id="grid-image4">
                <p id="item-description4" class="item-description"></p>
                <p id="item-price4" class="item-price"></p>
                <p id="item-availability4"></p>
            
            </div>
    
            <div class ="grid-item" id="grid-item5">  
                <img src="" class="grid-image" id="grid-image5">
                <p id="item-description5" class="item-description"></p>
                <p id="item-price5" class="item-price"></p>
                <p id="item-availability5"></p>
                
            </div>
        </div>
    
</div>

</div>
   

   


    <!--Bootstrap Javascript plugin file-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!--Script to generate user id-->
<script>
function generateUniqueUserId() {
    let userId = localStorage.getItem('userId');
    if (!userId) {
        const timestamp = new Date().getTime();
        const randomString = Math.random().toString(36).substring(2, 15);
        const userId = `user_${timestamp}_${randomString}`; 
        localStorage.setItem('userId', userId);
    }
}
</script>

 <!--Script for specials prices in carousel-->
 <script>
    function displayPrice1() {
        document.getElementById("Description1-Merch-Page-Home").style.display = "block";
        document.getElementById("Description2-Merch-Page-Home").style.display = "none";
        document.getElementById("Description3-Merch-Page-Home").style.display = "none";
    } 

    function displayPrice2() {
        document.getElementById("Description1-Merch-Page-Home").style.display = "none";
        document.getElementById("Description2-Merch-Page-Home").style.display = "block";
        document.getElementById("Description3-Merch-Page-Home").style.display = "none";
    }

    function displayPrice3() {
        document.getElementById("Description1-Merch-Page-Home").style.display = "none";
        document.getElementById("Description2-Merch-Page-Home").style.display = "none";
        document.getElementById("Description3-Merch-Page-Home").style.display = "block";
    }
 </script>
<!-- Script to hide content and show the grid -->

<script>
   function hideContent(event) {
        var clickedElement = event.target;

         //Check if the clicked element matches any of the selectors
        if (clickedElement.closest('.slide-image') ||
            clickedElement.closest('.fa-search') || clickedElement.closest('.carousel-description')) {
            
            var content = document.querySelectorAll(".content");
            content.forEach(function(contentItem) {
                contentItem.style.display = "none";
            });
        
            var grids = document.querySelectorAll(".grid");
            grids.forEach(function(grid) {
                grid.style.display = "flex";
            });
            
            var headers = document.querySelectorAll(".category-site-header");
            headers.forEach(function(header) {
                header.style.display = "block";
                header.style.textAlign = "center"; 
            });
        }   
       
    }  
    document.addEventListener("click", hideContent);
</script>
                                                  
<!--Script for showing recent searches in search bar-->
<script src="Searchbarrecentsearches.js">
</script>

<!--Script for expanding and minimising cart-->
<script>
    function expandcart() {
    if (document.getElementById("cart-expanded").style.display=="none") {
    document.getElementById("cart-expanded").style.display="block";
    } else {
    document.getElementById("cart-expanded").style.display="none";   
    } 
}
</script>

<!--Script for changing checkout button and status based on if theres items in the cart-->
<script>
    $(document).ready(function() {
       generateUniqueUserId();

       function updateCheckoutButton() {
           var totalAmountText = $("#total2").text();
           var totalAmount = parseFloat(totalAmountText.replace('$', '')).toFixed(2);
           if (totalAmount <= 0.00) {
               console.log("Total amount:", totalAmount);
               $("#checkout-button").removeClass("enabled").addClass("disabled");
               document.getElementById("cart-empty-status").style.display="block";
               
           } else {
               console.log("Total amount:", totalAmount);
               $("#checkout-button").removeClass("disabled").addClass("enabled");
               document.getElementById("cart-empty-status").style.display="none";
               
               //
           }
       }
    updateCheckoutButton();
    
    
       // Update the button status whenever the total amount changes
       $(".add-to-cart-button-Available").click(function() {
           setTimeout(updateCheckoutButton, 50);
       });
      
       $(".cart-grid").on("click", ".remove-item", function() {
           setTimeout(updateCheckoutButton, 50);
           console.log("Total amount:", totalAmount1);
       });
    
    
       $(".clear-button").click(function() {
           setTimeout(updateCheckoutButton, 100);
        });
});
</script>


<!--Script for cart and script for linking products and product info from the database-->
<script src="Categories2.js">
    
</script>



</body>
</html>














































